"use strict";(self.webpackChunkweb3_react=self.webpackChunkweb3_react||[]).push([[29],{45110:function(n,e,r){r.r(e),r.d(e,{default:function(){return f},dnsQuery:function(){return i},encodeURLParams:function(){return c},getDNS:function(){return s}});var t=r(74165),u=r(15861),a=r(78957),o=r(19778).Buffer;function c(n){return Object.entries(n).map((function(n){return n.map(encodeURIComponent).join("=")})).join("&")}var s=function(){var n=(0,u.Z)((0,t.Z)().mark((function n(e){var u,s,i,f;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.g.fetch("https://cloudflare-dns.com/dns-query?".concat(c({ct:"application/dns-udpwireformat",dns:null===(u=a.encode(e))||void 0===u?void 0:u.toString("base64"),ts:Date.now().toString()})));case 2:return s=n.sent,n.next=5,s.arrayBuffer();case 5:return i=n.sent,f=o.from(i),n.abrupt("return",a.decode(f));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),i=function(){var n=(0,u.Z)((0,t.Z)().mark((function n(e,r){var u,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u={type:"query",id:1,flags:a.RECURSION_DESIRED,questions:[{type:e,class:"IN",name:r}],additionals:[{type:"OPT",class:"IN",name:".",udpPayloadSize:4096,flags:a.DNSSEC_OK}],answers:[]},n.next=3,s(u);case 3:if("NOERROR"===(o=n.sent).rcode){n.next=6;break}throw new Error("DNS query failed: ".concat(o.rcode));case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}();function f(n,e){return d.apply(this,arguments)}function d(){return(d=(0,u.Z)((0,t.Z)().mark((function n(e,r){var u,a,o,c,s,f,d,p;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i("TXT","_ens.".concat(r));case 2:return d=n.sent,p=null===d||void 0===d||null===(u=d.answers)||void 0===u||null===(a=u[0])||void 0===a||null===(o=a.data)||void 0===o||null===(c=o[0])||void 0===c||null===(s=c.toString())||void 0===s||null===(f=s.split("="))||void 0===f?void 0:f[1],n.abrupt("return",p);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=getDNSOwner.568a6d0c.chunk.js.map