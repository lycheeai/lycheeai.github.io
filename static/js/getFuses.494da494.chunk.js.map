{"version":3,"file":"static/js/getFuses.494da494.chunk.js","mappings":"+KAGMA,EAAG,yCAAG,aAAsBC,GAAtB,qFAASC,EAAT,EAASA,UAAT,gBACkBA,QADlB,IACkBA,OADlB,EACkBA,EAAWC,iBAD7B,cACFC,EADE,yBAED,CACHC,GAAID,EAAYE,QAChBC,KAAMH,EAAYI,UAAUC,mBAAmB,UAAW,EAACC,EAAAA,EAAAA,GAAST,OAJhE,2CAAH,wDAOHU,EAAM,yCAAG,aAAsBJ,GAAtB,mGAASL,EAAT,EAASA,UAAT,gBACeA,QADf,IACeA,OADf,EACeA,EAAWC,iBAD1B,cACLC,EADK,kBAGmCA,EAAYI,UAAUI,qBAAqB,UAAWL,GAAxFM,EAHD,EAGCA,MAAcC,EAHf,EAGQC,MAAeC,EAHvB,EAGuBA,OACxBD,EAAQE,EAAAA,GAAAA,KAAeH,GACvBI,EAAUC,OAAOC,YAAYD,OAAOE,KAAKC,EAAAA,IAAUC,KAAI,SAACC,GAAD,MAAU,CACnEA,EACAT,EAAMU,IAAIH,EAAAA,GAASE,IAAOE,GAAG,GAF4B,KAIzDX,EAAMY,GAAG,GACTT,EAAQU,iBAAkB,EAG1BV,EAAQU,iBAAkB,EAExBC,EAAa,IAAIC,KAAc,IAATd,GAfrB,kBAgBA,CACHE,QAAAA,EACAW,WAAAA,EACAE,SAAUhB,EACVF,MAAAA,IApBG,yCAwBPmB,QAAQC,MAAM,8BAAd,MAxBO,6EAAH,wDA4BZ,WACIjC,IAAAA,EACAW,OAAAA,E","sources":["../node_modules/@ensdomains/ensjs/dist/esm/functions/getFuses.js"],"sourcesContent":["import { BigNumber } from 'ethers';\nimport { fuseEnum } from '../utils/fuses';\nimport { namehash } from '../utils/normalise';\nconst raw = async ({ contracts }, name) => {\n    const nameWrapper = await contracts?.getNameWrapper();\n    return {\n        to: nameWrapper.address,\n        data: nameWrapper.interface.encodeFunctionData('getData', [namehash(name)]),\n    };\n};\nconst decode = async ({ contracts }, data) => {\n    const nameWrapper = await contracts?.getNameWrapper();\n    try {\n        const { owner, fuses: _fuses, expiry, } = nameWrapper.interface.decodeFunctionResult('getData', data);\n        const fuses = BigNumber.from(_fuses);\n        const fuseObj = Object.fromEntries(Object.keys(fuseEnum).map((fuse) => [\n            fuse,\n            fuses.and(fuseEnum[fuse]).gt(0),\n        ]));\n        if (fuses.eq(0)) {\n            fuseObj.canDoEverything = true;\n        }\n        else {\n            fuseObj.canDoEverything = false;\n        }\n        const expiryDate = new Date(expiry * 1000);\n        return {\n            fuseObj,\n            expiryDate,\n            rawFuses: fuses,\n            owner,\n        };\n    }\n    catch (e) {\n        console.error('Error decoding fuses data: ', e);\n        return;\n    }\n};\nexport default {\n    raw,\n    decode,\n};\n"],"names":["raw","name","contracts","getNameWrapper","nameWrapper","to","address","data","interface","encodeFunctionData","namehash","decode","decodeFunctionResult","owner","_fuses","fuses","expiry","BigNumber","fuseObj","Object","fromEntries","keys","fuseEnum","map","fuse","and","gt","eq","canDoEverything","expiryDate","Date","rawFuses","console","error"],"sourceRoot":""}